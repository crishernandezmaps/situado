<html>
<head>
  <title>Map</title>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width">
  <link type="text/css" rel="stylesheet" href="css/d3map.css" />
  <!-- <link rel="stylesheet" href="https://unpkg.com/leaflet@1.2.0/dist/leaflet.css" integrity="sha512-M2wvCLH6DSRazYeZRIm1JnYyh22purTM+FDB5CsyxtQJYeKq83arPe5wgbNmcFXGqiSH2XR8dT/fJISVA1r/zQ==" crossorigin="" /> -->
  <link rel="icon" href="/favicon.ico" type="image/x-icon" />
</head>
<style>
  html,body {
    height: 100%;
    width: 100%;
    margin: 0;
  }

  #map {
    height: 100%;
    width: 100%;
    position: absolute;
  }

  .rm {
     fill-opacity: 0;
     fill: #4682B4;
     stroke-opacity: 1;
     stroke: #f23e3e;
     stroke-width: 2px;
  }

  .centros {
     fill-opacity: 1;
     fill: green;
     stroke-opacity: 0.5;
     stroke: black;
     stroke-width: 1px;
  }

  .plazas {
     fill-opacity: 1;
     fill: cyan;
     stroke-opacity: 0.5;
     stroke: black;
     stroke-width: 1px;
  }

  .barrios {
     fill-opacity: 0;
     /* fill: yellow; */
     stroke-opacity: 0.5;
     stroke: black;
     stroke-width: 1px;
  }

</style>

<script>

function makeSomeMaps() {

    map = d3.carto.map();

    d3.select("#map").call(map);

    base = d3.carto.layer.tile();

    base
    .path("elijahmeeks.map-azn21pbi")
    .label("Terrain");

    rm = d3.carto.layer.geojson();
    rm.path("data/geojson/RM.geojson")
    .label("RM")
    .renderMode("svg")
    .clickableFeatures(false)
    .cssClass("rm");

    centrosCulturales = d3.carto.layer.geojson();
    centrosCulturales.path("data/geojson/cc.geojson")
    .label("Centros Culturales")
    .markerSize(5)
    .renderMode("svg")
    .clickableFeatures(false)
    .cssClass("centros");

    plazas = d3.carto.layer.geojson();
    plazas.path("data/geojson/plazas.geojson")
    .label("Plazas de Bolsillo")
    .markerSize(5)
    .renderMode("svg")
    .clickableFeatures(false)
    .cssClass("plazas");


    portales = d3.carto.layer.geojson();
    portales.path("data/geojson/portales.geojson")
    .label("Villa Portales")
    .renderMode("svg")
    .clickableFeatures(false)
    .cssClass("barrios");

    horizonte = d3.carto.layer.geojson();
    horizonte.path("data/geojson/nuevo_horizonte.geojson")
    .label("Nuevo Horizonte")
    .renderMode("svg")
    .clickableFeatures(false)
    .cssClass("barrios");

    chacabuco = d3.carto.layer.geojson();
    chacabuco.path("data/geojson/chacabuco.geojson")
    .label("Barrio Chacabuco")
    .renderMode("svg")
    .clickableFeatures(false)
    .cssClass("barrios");

    // Base
    map
      .addCartoLayer(base)
      .setScale(11)
      .centerOn([-70.673676,-33.459229],"latlong")
      .addCartoLayer(portales)
      .addCartoLayer(horizonte)
      .addCartoLayer(chacabuco)
      .addCartoLayer(centrosCulturales)
      .addCartoLayer(plazas)
      .addCartoLayer(rm)



  }

</script>

<body onload="makeSomeMaps()">
<div id="map"></div>

<footer>
<script src="js/d3.v3.min.js" charset="utf-8" type="text/javascript"></script>
<script src="js/d3.carto.map.js" type="text/javascript"></script>
<script src="js/tile.js" type="text/javascript"></script>
<!-- <script src="https://unpkg.com/leaflet@1.2.0/dist/leaflet.js" integrity="sha512-lInM/apFSqyy1o6s89K4iQUKg6ppXEgsVxT35HbzUupEVRh2Eu9Wdl4tHj7dZO0s1uvplcYGmt3498TtHq+log==" crossorigin=""></script>
<script src="js/leaflet.ajax.min.js" type="text/javascript"></script>
<script src="js/tile.stamen.js" type="text/javascript"></script> -->
</footer>
</body>
</html>
